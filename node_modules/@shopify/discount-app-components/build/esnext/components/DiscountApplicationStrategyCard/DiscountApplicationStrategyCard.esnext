import React from 'react';
import { Box, Card, BlockStack, Text, ChoiceList } from '@shopify/polaris';
import { useI18n } from '@shopify/react-i18n';
import { DiscountClass, DiscountApplicationStrategy } from '../../constants.esnext';

const I18N_SCOPE = {
  scope: 'DiscountAppComponents.DiscountApplicationStrategyCard'
};
function DiscountApplicationStrategyCard({
  strategy,
  discountClass
}) {
  const [i18n] = useI18n();
  const handleChange = strategies => strategy.onChange(strategies[0]);
  const isProduct = discountClass === DiscountClass.Product;
  const isOrder = discountClass === DiscountClass.Order;
  const isShipping = discountClass === DiscountClass.Shipping;
  const choices = [...(isProduct || isOrder ? [{
    value: DiscountApplicationStrategy.First,
    label: i18n.translate('first.label', I18N_SCOPE),
    helpText: i18n.translate('first.helpText', I18N_SCOPE)
  }, {
    value: DiscountApplicationStrategy.Maximum,
    label: i18n.translate('maximum.label', I18N_SCOPE),
    helpText: i18n.translate('maximum.helpText', I18N_SCOPE)
  }] : []), ...(isProduct || isShipping ? [{
    value: DiscountApplicationStrategy.All,
    label: i18n.translate('all.label', I18N_SCOPE),
    helpText: i18n.translate('all.helpText', I18N_SCOPE)
  }] : [])];
  return /*#__PURE__*/React.createElement(Box, {
    paddingBlockEnd: "400"
  }, /*#__PURE__*/React.createElement(Card, {
    padding: "400"
  }, /*#__PURE__*/React.createElement(BlockStack, {
    gap: "400"
  }, /*#__PURE__*/React.createElement(Text, {
    variant: "headingMd",
    as: "h2"
  }, i18n.translate('title', I18N_SCOPE)), /*#__PURE__*/React.createElement(ChoiceList, {
    title: i18n.translate('title', I18N_SCOPE),
    titleHidden: true,
    choices: choices,
    selected: [strategy.value],
    onChange: handleChange
  }))));
}

export { DiscountApplicationStrategyCard };
